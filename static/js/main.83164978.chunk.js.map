{"version":3,"sources":["components/Header.js","components/Form.js","components/YearBlock.js","components/YearView.js","components/WeekBlock.js","components/WeekView.js","components/Board.js","components/Footer.js","index.js"],"names":["Header","name","registered","view","setView","className","href","onClick","Form","props","htmlFor","type","id","placeholder","onChange","e","setName","target","value","setBirthday","setExpected","setRegistered","YearBlock","past","current","future","YearView","birthday","expected","list","currentYearNumber","Date","getFullYear","i","push","WeekBlock","empty","WeekView","birthDate","currentDate","weeksBeforeBirth","dayjs","isoWeek","weeksBeforeCurrent","weeksTotal","isExtraWeek","week","add","Math","floor","yearOf","isLeapYear","Board","Footer","App","useState","localStorage","getItem","useEffect","document","title","setItem","extend","weekOfYear","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.83164978.chunk.js","sourcesContent":["export default function Header({ name, registered, view, setView }) {\n  return (\n    <h1 className=\"text-2xl text-center  mb-6 font-bold text-green-500\">\n      <span className={registered ? \"hidden\" : \"\"}>\n        Stranger, wanna see you life in blocks?\n      </span>\n      <span className={registered ? \"\" : \"hidden\"}>\n        <span>{name + \", your life in \"}</span>\n        <a\n          href=\"#\"\n          onClick={() => setView(view === 0 ? 1 : 0)}\n          className=\"border-b-2 border-green-500\"\n        >\n          {view === 0 ? \"years\" : \"weeks\"}\n        </a>\n        <span>.</span>\n      </span>\n    </h1>\n  );\n}\n","// TODO decorate form\nexport default function Form(props) {\n  return (\n    <div className={props.registered ? \"hidden\" : \"\"}>\n      <form className=\"font-medium\">\n        <label htmlFor=\"name\">Then, please spell your firstname: </label>\n        <input\n          type=\"text\"\n          name=\"name\"\n          id=\"name\"\n          placeholder=\"Stranger?\"\n          className=\"border-0 border-b-2 h-8\"\n          onChange={(e) => props.setName(e.target.value)}\n        />\n        <label>,</label>\n        <br />\n\n        <label htmlFor=\"birthday\">input your birthday: </label>\n        <input\n          type=\"date\"\n          name=\"birthday\"\n          id=\"birthday\"\n          className=\"border-0 border-b-2 h-8\"\n          onChange={(e) => props.setBirthday(e.target.value)}\n        />\n        <label>,</label>\n        <br />\n\n        <label htmlFor=\"expected\">and say the years you want to live: </label>\n        <input\n          type=\"number\"\n          name=\"expected\"\n          id=\"expected\"\n          placeholder=\"70\"\n          className=\"border-0 border-b-2 h-8\"\n          onChange={(e) => props.setExpected(e.target.value)}\n        />\n        <label>.</label>\n\n        <div className=\"grid\">\n          <button\n            className=\"font-bold text-xl text-white mt-6 bg-green-400 rounded-sm\"\n            type=\"submit\"\n            onClick={() => props.setRegistered(true)}\n          >\n            DONE\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n","export default function YearBlock(props) {\n  return (\n    <div\n      className={\n        \"w-6 h-6 rounded-sm \" +\n        (props.past\n          ? \"bg-yellow-300\"\n          : props.current\n          ? \"bg-green-500\"\n          : props.future\n          ? \"bg-blue-300\"\n          : \"\")\n      }\n    ></div>\n  );\n}\n","import YearBlock from \"./YearBlock.js\";\n\nexport default function YearView({ birthday, expected }) {\n  const list = [];\n  const currentYearNumber =\n    new Date().getFullYear() - new Date(birthday).getFullYear();\n\n  for (let i = 0; i < expected; i++) {\n    list.push(\n      <YearBlock\n        key={i}\n        past={i < currentYearNumber ? true : false}\n        current={i === currentYearNumber ? true : false}\n        future={i > currentYearNumber ? true : false}\n      />\n    );\n  }\n\n  return (\n    <div className=\"grid grid-flow-row grid-cols-10 gap-2 justify-items-center\">\n      {list}\n    </div>\n  );\n}\n","export default function WeekBlock(props) {\n  return (\n    <div\n      className={\n        \"w-2 h-2 rounded-sm \" +\n        (props.past\n          ? \"bg-yellow-300\"\n          : props.current\n          ? \"bg-green-500\"\n          : props.future\n          ? \"bg-blue-300\"\n          : props.empty\n          ? \"bg-transparent\"\n          : \"\")\n      }\n    ></div>\n  );\n}\n","import WeekBlock from \"./WeekBlock.js\";\n\nimport dayjs from \"dayjs\";\nimport weekOfYear from \"dayjs/plugin/weekOfYear\";\nimport isoWeek from \"dayjs/plugin/isoWeek\";\nimport isLeapYear from \"dayjs/plugin/isLeapYear\";\n\ndayjs.extend(weekOfYear);\ndayjs.extend(isoWeek);\ndayjs.extend(isLeapYear);\n\n// Let's keep it simple, 53 weeks a year\nexport default function WeekView({ birthday, expected }) {\n  const list = [];\n  const birthDate = new Date(birthday);\n  const currentDate = new Date();\n  const weeksBeforeBirth = dayjs(birthDate).isoWeek() - 1;\n  const weeksBeforeCurrent =\n    (currentDate.getFullYear() - birthDate.getFullYear()) * 53 +\n    dayjs(currentDate).isoWeek() -\n    1;\n  const weeksTotal = expected * 53;\n\n  // TODO how to calculate the extra week?\n  function isExtraWeek(week) {\n    return (\n      week < weeksBeforeBirth ||\n      (!yearOf(week).isLeapYear() && week % 53 === 52)\n    );\n  }\n\n  function yearOf(week) {\n    return dayjs(birthDate).add(Math.floor(week / 53), \"year\");\n  }\n\n  // Start from the week of birthday to the week of last day.\n  // Paint the weeks before birthday to white.\n  for (let i = 0; i < weeksTotal; i++) {\n    list.push(\n      <WeekBlock\n        key={i}\n        empty={isExtraWeek(i)}\n        current={i === weeksBeforeCurrent && !isExtraWeek(i)}\n        past={i < weeksBeforeCurrent && !isExtraWeek(i)}\n        future={i > weeksBeforeCurrent && !isExtraWeek(i)}\n      />\n    );\n  }\n\n  return <div className=\"grid grid-flow-row grid-cols-53 gap-0.5\">{list}</div>;\n}\n","import YearView from \"./YearView.js\";\nimport WeekView from \"./WeekView.js\";\n\nexport default function Board({ view, birthday, expected }) {\n  return view === 0 ? (\n    <YearView birthday={birthday} expected={expected} />\n  ) : (\n    <WeekView birthday={birthday} expected={expected} />\n  );\n}\n","export default function Footer({ registered, setRegistered }) {\n  return (\n    <div>\n      <div className={\"grid \" + (registered ? \"\" : \"hidden\")}>\n        <button\n          type=\"submit\"\n          className=\"text-sm text-gray-500 font-bold\"\n          onClick={() => setRegistered(false)}\n        >\n          RESET\n        </button>\n      </div>\n      <div className=\"flex justify-between text-sm text-gray-300\">\n        <span>\n          &copy;{\" \"}\n          <a\n            href=\"https://www.cliveshd.com\"\n            className=\"border-b-2 border-gray-300\"\n          >\n            Clive\n          </a>{\" \"}\n        </span>\n        <span>\n          Inspired by{\" \"}\n          <a\n            href=\"https://waitbutwhy.com/2014/05/life-weeks.html\"\n            className=\"border-b-2 border-gray-300\"\n          >\n            Tim\n          </a>\n        </span>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport Header from \"./components/Header.js\";\nimport Form from \"./components/Form.js\";\nimport Board from \"./components/Board.js\";\nimport Footer from \"./components/Footer.js\";\n\nfunction App() {\n  const [name, setName] = useState(localStorage.getItem(\"name\") || \"Stranger\");\n  const [birthday, setBirthday] = useState(\n    localStorage.getItem(\"birthday\") || new Date(\"2000-01-01\")\n  );\n  const [expected, setExpected] = useState(\n    localStorage.getItem(\"expected\") || 80\n  );\n  const [registered, setRegistered] = useState(\n    localStorage.getItem(\"registered\") || false\n  );\n  const [view, setView] = useState(\n    // 0 for year view, 1 for week view.\n    localStorage.getItem(\"view\") || 0\n  );\n\n  useEffect(() => {\n    document.title = \"Life In Blocks\";\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(\"name\", name);\n  }, [name]);\n  useEffect(() => {\n    localStorage.setItem(\"birthday\", birthday);\n  }, [birthday]);\n  useEffect(() => {\n    localStorage.setItem(\"expected\", expected);\n  }, [expected]);\n  useEffect(() => {\n    localStorage.setItem(\"registered\", true);\n  }, [registered]);\n  useEffect(() => {\n    localStorage.setItem(\"view\", view);\n  }, [view]);\n\n  return (\n    <div className=\"bg-gray-100 p-6 max-w-xl mx-auto space-y-6\">\n      <Header\n        name={name}\n        registered={registered}\n        view={view}\n        setView={setView}\n      />\n      <Form\n        name={name}\n        setName={setName}\n        birthday={birthday}\n        setBirthday={setBirthday}\n        expected={expected}\n        setExpected={setExpected}\n        registered={registered}\n        setRegistered={setRegistered}\n      />\n      <Board view={view} birthday={birthday} expected={expected} />\n      <Footer registered={registered} setRegistered={setRegistered} />\n    </div>\n  );\n}\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}